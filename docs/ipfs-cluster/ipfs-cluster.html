<div class="row">
    <h1>IPFS Cluster</h1>
    <hr>
</div>
<div class="container my-3">
    <p>
        Per la gestione della ridondanza ci si serve di un software apposito, IPFS-Cluster deamon che lavora in parallelo al nodo IPFS e permettere di replicare automaticamente i contenuti all’interno di altri nodi che fanno parte del cluster. 
    </p>
    <div class="card border-0 justify-content-center my-4" style="background-color: transparent;">
        <img src="https://ipfscluster.io/cluster/diagrams/png/cluster.png" class="card-img-top mx-auto rounded" alt="..." style="width: 30em;">
    </div>
   
    <p>
        Le due entità IPFS-Cluster daemon e IPFS cluster hanno PeerIDs diversi nonostante corrano all’interno dello stesso nodo e comunicano tra loro. I due demoni utilizzano porte e API endpoints differenti.
    </p>
    <p>
        Il software IPFS Cluster viene eseguito per mezzo di 3 applicazioni:
    </p>
    <br>
    <ul>
        <li>
            ipfs-cluster-service: esegue un Cluster peer (simile a IPFS deamon) usando una preconfigurazione dati e salvando alcune informazioni all’interno del disco locale; all’interno della preconfigurazione è presente una voce “secret”: per tutti i nodi appartenenti al cluster questo valore deve essere lo stesso.
        </li>
        <li>
            ipfs-cluster-ctl è utilizzato per interagire con il cluster quindi comunicare con gli altri nodi compiendo azioni come aggiungere ‘pin’ ai CIDs condivisi nel Cluster;
        </li>
        <li>
            ipfs-cluster-follow: permette di seguire un altro Cluster peer, i nodi connessi tramite ipfs-cluter-follow possono accedere al cluster solo in lettura. Integra alcune funzioni sia di ipfs-cluster-service sia che di ipfs-cluster-ctl.
        </li>
    </ul>
    <h5>Pinset</h5>
    <p>
        Quando un nodo avrà terminato lo spazio di archiviazione a disposizione, potrà trasferire i blocchi inutilizzati in una garbage-collection che a intervalli di tempo prestabiliti cancellerà i contenuti non spuntati (unpinned). I PIN sono quindi metadati che contengono la lista di CID univoci spuntati all’interno del proprio nodo; quando un peer richiede un file, viene eseguita una copia in cache al proprio nodo, in questo modo più copie dei blocchi vengono distribuite tra più peer. 
    </p>
    <p>
        Alcuni blocchi possono quindi essere ‘spuntati’ (pin) affinchè non finiscano nella garbage collection e quindi vengano archiviati all’interno dell’IPFS store (cartella locale) in modo da garantire l’accessibilità ai contenuti anche offline.
    </p>
    <br>
    

    <p>
        Un cluster IPFS permette quindi ad ogni peer di duplicare, distribuire e fissare in modo controllato i pinset all’interno dei nodi che fanno parte del cluster e i nodi possono essere inizializzati in modo tale che non entrino mai in contatto con la rete esterna, creando un ambiente privato sin dall’origine.
    </p>

</div>




